import{r as a,W as M,j as e,Y as A}from"./app-B7R3xKfR.js";import{S}from"./sweetalert2.all-BCuXndMg.js";import{A as T}from"./AuthenticatedLayout-Y2T7n90j.js";import{D as R}from"./DangerButton-C78OtXf8.js";import{F as b}from"./FormField-DdU7T2BP.js";import{M as W}from"./Modal-CxfqK7zO.js";import{P as N}from"./PrimaryButton-Dmln_z9C.js";import{S as P}from"./SecondaryButton-DEQ0GUFj.js";import{W as z}from"./WarningButton-ZzKlSGX3.js";import"./Footer-Bc1XkYwF.js";import"./Dropdown-CMXUyYL3.js";import"./transition-D2aQqEaI.js";import"./InputLabel-TKlKzBkH.js";import"./TextInput-Dk9zkqAb.js";import"./InputError-BugI7SpX.js";import"./dialog-CeFeWAN5.js";function te({auth:g,sistemaJuegos:l}){const[y,m]=a.useState(!1),[v,d]=a.useState(""),[C,w]=a.useState(1),B=a.useRef(),D=a.useRef(),p={nombreSistema:"",descripcionSistema:""},{data:i,setData:o,errors:x,delete:k,post:h,put:G,processing:E}=M(p),u=s=>{const{name:t,value:r}=s.target;o(c=>({...c,[t]:r}))},j=(s,t,r,c)=>{m(!0),w(s),s===1?(d("Nuevo Sistema de Juego"),o(p)):(d("Editar Sistema de Juego"),o({id:t,nombreSistema:r,descripcionSistema:c}))},n=()=>{m(!1)},F=s=>{s.preventDefault(),C===1?h(route("sistemaJuego.store"),{preserveScroll:!0,onSuccess:()=>{f("Sistema de juego creado correctamente")}}):h(route("sistemaJuego.updatepost",i.id),{preserveScroll:!0,onSuccess:()=>{f("Sistema de juego actualizado correctamente")}})},f=s=>{n(),S.fire({title:"Correcto",text:s,icon:"success",confirmButtonText:"Aceptar"})},I=(s,t)=>{S.fire({title:"¿Estás seguro?",text:`Eliminarás el sistema de juego ${t}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&k(route("sistemaJuego.destroy",s))})};return e.jsxs(T,{user:g.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Sistema de Juego 🎲"}),children:[e.jsx(A,{title:"Sistemas de Juego"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"container flex-grow px-4 py-8 mx-auto",children:[e.jsxs("div",{className:"grid bg-white v-screen place-items-center",children:[e.jsx("div",{className:"flex justify-end mt-2 mb-3",children:e.jsxs(N,{onClick:()=>j(1),children:[e.jsx("i",{className:"fa-solid fa-plus-circle"}),"Añadir Lugar"]})}),e.jsx("div",{className:"grid py-6 bg-white v-screen place-items-center",children:e.jsxs("table",{className:"border-gray-400 table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Nombre"}),e.jsx("th",{className:"px-4 py-2",children:"Descripción"}),e.jsx("th",{className:"px-4 py-2"}),e.jsx("th",{className:"px-4 py-2"})]})}),e.jsx("tbody",{children:l.length>0?l.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:s.nombreSistema}),e.jsx("td",{className:"px-4 py-2 border",children:s.descripcionSistema}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx(z,{onClick:()=>j(2,s.id,s.nombreSistema,s.descripcionSistema),children:e.jsx("i",{className:"fa-solid fa-pencil"})})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx(R,{onClick:()=>I(s.id,s.nombreSistema),children:e.jsx("i",{className:"fa-solid fa-trash"})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-2 border",children:"No hay sistemas de juego"})})})]})})]}),e.jsxs(W,{show:y,Close:n,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:v}),e.jsxs("form",{onSubmit:F,className:"p-6",children:[e.jsx(b,{htmlFor:"nombreSistema",label:"Nombre",id:"nombreSistema",type:"text",name:"nombreSistema",ref:B,value:i.nombreSistema,onChange:u,error:x.nombreSistema}),e.jsx(b,{htmlFor:"descripcionSistema",label:"Descripción",id:"descripcionSistema",type:"text",name:"descripcionSistema",ref:D,value:i.descripcionSistema,onChange:u,error:x.descripcionSistema}),e.jsx("div",{children:e.jsxs(N,{processing:E?"true":"false",className:"mt-2",children:[e.jsx("i",{className:"fa-solid fa-save"}),"Guardar"]})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(P,{onClick:n,children:"Cancel"})})]})]})]})})]})}export{te as default};
