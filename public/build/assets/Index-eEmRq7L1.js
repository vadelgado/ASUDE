import{r as t,W as I,j as e}from"./app-DDWAxr0O.js";import{S as b}from"./sweetalert2.all-z0A-IzJY.js";import{A as P}from"./AuthenticatedLayout-25vPjUJU.js";import{D as A}from"./DangerButton-ZZR714Xu.js";import{F as y}from"./FormField-Dkxp4lIt.js";import"./SelectField-_h3w3KYV.js";import{M as _,S as z}from"./SecondaryButton-nHkmApVW.js";import{P as n}from"./PrimaryButton-DeQ-lA9j.js";import"./Textarea2-CE9lyQDJ.js";import{F as G}from"./Footer-D9OzLELn.js";import"./transition-DFnG931F.js";import"./Logo-DrEgFXuP.js";import"./InputLabel-ChKXdU0T.js";import"./TextInput-COB0oSW7.js";import"./InputError-tTg0-KzI.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./dialog-BF5Oivp2.js";function te({auth:v,resultados:d,torneo:m}){const[C,u]=t.useState(!1),[S,x]=t.useState(""),[R,w]=t.useState(1),k=t.useRef(),F=t.useRef(),p={categoria:"",resultado:"",fk_torneo:m[0].id},{data:a,setData:o,errors:h,delete:M,post:B,put:T,processing:f}=I(p),j=s=>{const{name:r,value:i}=s.target;o(c=>({...c,[r]:i}))},g=(s,r,i,c)=>{u(!0),w(s),s===1?(x("Nuevo Resultado"),o(p)):(x("Editar Resultado"),o({id:r,categoria:i,resultado:c,fk_torneo:m[0].id}))},l=()=>{u(!1)},D=s=>{s.preventDefault(),R===1?B(route("resultadosTorneo.store"),{preserveScroll:!0,onSuccess:()=>{N("Resultado creado correctamente")}}):T(route("resultadosTorneo.update",a.id),{preserveScroll:!0,onSuccess:()=>{N("Resultado actualizado correctamente")}})},N=s=>{l(),b.fire("¡Correcto!",s,"success")},E=s=>{b.fire({title:"¿Estás seguro?",text:"No podrás revertir esto",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&M(route("resultadosTorneo.destroy",s))})};return e.jsxs(P,{user:v.user,children:[e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 mt-32",children:[e.jsx("div",{className:"grid bg-white v-screen place-items-center",children:e.jsx("div",{className:"flex justify-end mt-2 mb-3",children:e.jsx(n,{onClick:()=>g(1),children:e.jsxs("i",{className:"fa-solid fa-plus-circle",children:[" ","Añadir Resultado"]})})})}),e.jsx("div",{className:"grid py-6 bg-white v-screen place-items-center",children:e.jsxs("table",{className:"border-gray-400 table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Categoria"}),e.jsx("th",{className:"px-4 py-2 border",children:"Resultado"})]})}),e.jsx("tbody",{children:d.length>0?d.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:s.categoria}),e.jsx("td",{className:"px-4 py-2 border",children:s.resultado}),e.jsxs("td",{className:"px-4 py-2 border",children:[e.jsx(n,{onClick:()=>g(2,s.id,s.categoria,s.resultado),children:e.jsx("i",{className:"fa-solid fa-edit"})}),e.jsx(A,{onClick:()=>E(s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-2 text-center border",children:"No hay resultados"})})})]})}),e.jsxs(_,{show:C,onClose:l,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:S}),e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsx(y,{htmlFor:"categoria",label:"Categoria",id:"categoria",type:"text",name:"categoria",ref:k,placeholder:"Nombre de la Categoria",value:a.categoria,onChange:j,errorMessage:h.categoria}),e.jsx(y,{htmlFor:"resultado",label:"Resultado",id:"resultado",type:"text",name:"resultado",ref:F,placeholder:"Quien gano el premio",value:a.resultado,onChange:j,errorMessage:h.resultado}),e.jsx("div",{className:"mt-6",children:e.jsx(n,{processing:f?"true":"false",className:"mt-2",children:e.jsx("i",{className:"fa-solid fa-save",children:f?" Procesando...":" Guardar"})})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(z,{onClick:l,children:"Cancelar"})})]})]})]})}),e.jsx(G,{})]})}export{te as default};
