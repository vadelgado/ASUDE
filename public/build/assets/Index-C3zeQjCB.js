import{r as a,W as M,j as e,Y as A}from"./app-7mrykiUf.js";import{S}from"./sweetalert2.all-CX-qJYtC.js";import{A as T}from"./AuthenticatedLayout-DsGCHLxz.js";import{D as R}from"./DangerButton-D6cbiaMe.js";import{F as b}from"./FormField-CJlQFqsM.js";import{M as W,S as P}from"./SecondaryButton-Db-FvdUR.js";import{P as N}from"./PrimaryButton-C1HUWnbU.js";import{W as z}from"./WarningButton-CmXJuKnb.js";import{F as G}from"./Footer-CcKZxelp.js";import"./transition-OSt-Fe1m.js";import"./Logo-DOI2n3no.js";import"./InputLabel-Ca-KwL_3.js";import"./TextInput-J4f6xLTx.js";import"./InputError-D3yG6XIN.js";import"./dialog-CWmJrEpj.js";function te({auth:g,sistemaJuegos:l}){const[y,m]=a.useState(!1),[v,d]=a.useState(""),[C,w]=a.useState(1),B=a.useRef(),D=a.useRef(),p={nombreSistema:"",descripcionSistema:""},{data:i,setData:o,errors:x,delete:F,post:h,put:L,processing:k}=M(p),u=s=>{const{name:t,value:r}=s.target;o(c=>({...c,[t]:r}))},j=(s,t,r,c)=>{m(!0),w(s),s===1?(d("Nuevo Sistema de Juego"),o(p)):(d("Editar Sistema de Juego"),o({id:t,nombreSistema:r,descripcionSistema:c}))},n=()=>{m(!1)},E=s=>{s.preventDefault(),C===1?h(route("sistemaJuego.store"),{preserveScroll:!0,onSuccess:()=>{f("Sistema de juego creado correctamente")}}):h(route("sistemaJuego.updatepost",i.id),{preserveScroll:!0,onSuccess:()=>{f("Sistema de juego actualizado correctamente")}})},f=s=>{n(),S.fire({title:"Correcto",text:s,icon:"success",confirmButtonText:"Aceptar"})},I=(s,t)=>{S.fire({title:"¿Estás seguro?",text:`Eliminarás el sistema de juego ${t}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&F(route("sistemaJuego.destroy",s))})};return e.jsxs(T,{user:g.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"✋Sorteo"}),children:[e.jsx(A,{title:"Sistemas de Juego"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 mt-32",children:[e.jsxs("div",{className:"bg-white grid v-screen place-items-center",children:[e.jsx("div",{className:"mt-2 mb-3 flex justify-end",children:e.jsxs(N,{onClick:()=>j(1),children:[e.jsx("i",{className:"fa-solid fa-plus-circle"}),"Añadir Lugar"]})}),e.jsx("div",{className:"bg-white grid v-screen place-items-center py-6",children:e.jsxs("table",{className:"table-auto border-gray-400",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Nombre"}),e.jsx("th",{className:"px-4 py-2",children:"Descripción"}),e.jsx("th",{className:"px-4 py-2"}),e.jsx("th",{className:"px-4 py-2"})]})}),e.jsx("tbody",{children:l.length>0?l.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-4 py-2",children:s.nombreSistema}),e.jsx("td",{className:"border px-4 py-2",children:s.descripcionSistema}),e.jsx("td",{className:"border px-4 py-2",children:e.jsx(z,{onClick:()=>j(2,s.id,s.nombreSistema,s.descripcionSistema),children:e.jsx("i",{className:"fa-solid fa-pencil"})})}),e.jsx("td",{className:"border px-4 py-2",children:e.jsx(R,{onClick:()=>I(s.id,s.nombreSistema),children:e.jsx("i",{className:"fa-solid fa-trash"})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"border px-4 py-2",children:"No hay sistemas de juego"})})})]})})]}),e.jsxs(W,{show:y,Close:n,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:v}),e.jsxs("form",{onSubmit:E,className:"p-6",children:[e.jsx(b,{htmlFor:"nombreSistema",label:"Nombre",id:"nombreSistema",type:"text",name:"nombreSistema",ref:B,value:i.nombreSistema,onChange:u,error:x.nombreSistema}),e.jsx(b,{htmlFor:"descripcionSistema",label:"Descripción",id:"descripcionSistema",type:"text",name:"descripcionSistema",ref:D,value:i.descripcionSistema,onChange:u,error:x.descripcionSistema}),e.jsx("div",{children:e.jsxs(N,{processing:k?"true":"false",className:"mt-2",children:[e.jsx("i",{className:"fa-solid fa-save"}),"Guardar"]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(P,{onClick:n,children:"Cancel"})})]})]})]})}),e.jsx(G,{})]})}export{te as default};
