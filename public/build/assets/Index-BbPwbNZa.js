import{r as a,W as $,j as e}from"./app-CxZcZGFP.js";import{S as y}from"./sweetalert2.all-DgwL1yNR.js";import{A as z}from"./AuthenticatedLayout-D3h_2Zw2.js";import{D as V}from"./DangerButton-BwcGbpZf.js";import{F as m}from"./FormField-C-rVI5Un.js";import{S as W}from"./SelectField-DWI1Z_Ak.js";import{M as H,S as K}from"./SecondaryButton-DdZ3UcZ1.js";import{P as p}from"./PrimaryButton-mjHB4wFz.js";import{T as L}from"./Textarea2-JUE9D_v6.js";import{F as Q}from"./Footer-eE2LFUBg.js";import"./transition-Ch00GJdv.js";import"./Logo-Cq6eGSiJ.js";import"./InputLabel-B967lV7i.js";import"./TextInput-BHXWJ73K.js";import"./InputError-lI_LXVty.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./dialog-DdDju5n3.js";function je({auth:N,jugadores:v,idPartido:j,resultados:x}){const[C,h]=a.useState(!1),[S,u]=a.useState(""),[k,R]=a.useState(1),T=a.useRef(),M=a.useRef(),w=a.useRef(),A=a.useRef(),E=a.useRef(),f={fk_programaciones_faces_id:j[0].id,fk_jugador_id:"",goles:"",tarjetas_amarillas:"",tarjetas_rojas:"",observaciones:""},{data:r,setData:i,errors:t,delete:F,post:B,put:P,processing:b}=$(f),o=s=>{const{name:l,value:c}=s.target;i(d=>({...d,[l]:c}))},g=(s,l,c,d,G,q,J)=>{h(!0),R(s),s===1?(u("Nuevo Resultado"),i(f)):(u("Editar Resultado"),i({id:l,fk_programaciones_faces_id:j[0].id,fk_jugador_id:c,goles:d,tarjetas_amarillas:G,tarjetas_rojas:q,observaciones:J}))},n=()=>{h(!1)},I=s=>{s.preventDefault(),k===1?B(route("resultadosPartidos.store"),{preserveScroll:!0,onSuccess:()=>{_("Resultado creado correctamente")}}):P(route("resultadosPartidos.update",r.id),{preserveScroll:!0,onSuccess:()=>{_("Resultado actualizado correctamente")}})},_=s=>{n(),y.fire("¡Correcto!",s,"success")},O=s=>{y.fire({title:"¿Estás seguro?",text:"No podrás revertir esto",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(l=>{l.isConfirmed&&F(route("resultadosPartidos.destroy",s))})},D=[{value:"",label:"Seleccione ..."},...v.filter(s=>s.estado===1).map(s=>({value:s.id,label:`${s.nombreCompleto} - ${s.nombreEquipo}`}))];return e.jsxs(z,{user:N.user,children:[e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"container flex-grow px-4 py-8 mx-auto mt-32",children:[e.jsx("div",{className:"grid bg-white v-screen place-items-center",children:e.jsx("div",{className:"flex justify-end mt-2 mb-3",children:e.jsx(p,{onClick:()=>g(1),children:e.jsx("i",{className:"fa-solid fa-plus-circle",children:" Añadir Resultado"})})})}),e.jsx("div",{className:"grid py-6 bg-white v-screen place-items-center",children:e.jsxs("table",{className:"border-gray-400 table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Equipo"}),e.jsx("th",{className:"px-4 py-2 border",children:"Jugador"}),e.jsx("th",{className:"px-4 py-2 border",children:"Goles"}),e.jsx("th",{className:"px-4 py-2 border",children:"Tarjetas Amarillas"}),e.jsx("th",{className:"px-4 py-2 border",children:"Tarjetas Rojas"}),e.jsx("th",{className:"px-4 py-2 border",children:"Observaciones"}),e.jsx("th",{className:"px-4 py-2 border",children:"Acciones"})]})}),e.jsx("tbody",{children:x.length>0?x.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:s.nombreEquipo}),e.jsx("td",{className:"px-4 py-2 border",children:s.nombreCompleto}),e.jsx("td",{className:"px-4 py-2 border",children:s.goles}),e.jsx("td",{className:"px-4 py-2 border",children:s.tarjetas_amarillas}),e.jsx("td",{className:"px-4 py-2 border",children:s.tarjetas_rojas}),e.jsx("td",{className:"px-4 py-2 border",children:s.observaciones}),e.jsxs("td",{className:"px-4 py-2 border",children:[e.jsx(p,{onClick:()=>g(2,s.id,s.fk_jugador_id,s.goles,s.tarjetas_amarillas,s.tarjetas_rojas,s.observaciones),children:e.jsx("i",{className:"fa-solid fa-edit"})}),e.jsx(V,{onClick:()=>O(s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-2 text-center border",children:"No hay resultados"})})})]})}),e.jsxs(H,{show:C,onClose:n,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:S}),e.jsxs("form",{onSubmit:I,className:"p-6",children:[e.jsx("input",{type:"text",value:r.fk_programaciones_faces_id,name:"fk_programaciones_faces_id",readOnly:!0,hidden:!0}),e.jsx(W,{label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Jugador"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"fk_jugador_id",ref:T,name:"fk_jugador_id",value:r.fk_jugador_id,onChange:o,errorMessage:t.fk_jugador_id,options:D}),e.jsx(m,{label:"Goles",id:"goles",type:"number",name:"goles",ref:M,placeholder:"Goles",value:r.goles,onChange:o,errorMessage:t.goles}),e.jsx(m,{label:"Tarjetas Amarillas",id:"tarjetas_amarillas",type:"number",name:"tarjetas_amarillas",ref:w,placeholder:"Tarjetas Amarillas",value:r.tarjetas_amarillas,onChange:o,errorMessage:t.tarjetas_amarillas}),e.jsx(m,{label:"Tarjetas Rojas",id:"tarjetas_rojas",type:"number",name:"tarjetas_rojas",ref:A,placeholder:"Tarjetas Rojas",value:r.tarjetas_rojas,onChange:o,errorMessage:t.tarjetas_rojas}),e.jsx(L,{label:"Observaciones",type:"text",ref:E,name:"observaciones",value:r.observaciones,onChange:o,errorMessage:t.observaciones}),e.jsx("div",{className:"mt-6",children:e.jsx(p,{processing:b?"true":"false",className:"mt-2",children:e.jsx("i",{className:"fa-solid fa-save",children:b?" Procesando...":" Guardar"})})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(K,{onClick:n,children:"Cancelar"})})]})]})]})}),e.jsx(Q,{})]})}export{je as default};
