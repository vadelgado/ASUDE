import{r,W as Be,j as e,Y as ke}from"./app-Cd7KucXb.js";import{R as Ae}from"./react-paginate-C9qt6wBG.js";import{S as B}from"./sweetalert2.all-D1jq6Uzp.js";import{A as Re}from"./AuthenticatedLayout-CbbYANlG.js";import{F as c}from"./FormField-Dp_8a1tY.js";import{I as g}from"./ImgField-BfIDLDAP.js";import{S as h}from"./SelectField-fyozPkJW.js";import{M as Me,S as qe}from"./SecondaryButton-D7m-MCk_.js";import{P as k}from"./PrimaryButton-DbbhdSuN.js";import{T as v}from"./Textarea2-BLip1Ru1.js";import{F as Ee}from"./Footer-diGZ6D8K.js";import"./transition-FqHLaE6G.js";import"./Logo-CCmd4JRq.js";import"./InputLabel-lXMCEUIO.js";import"./TextInput-BvBV1DpO.js";import"./InputError-B_B5ZySv.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./dialog-j6PSrzX6.js";function aa({auth:I,torneos:A,sistemaJuegos:R,categoriaEquipos:M}){const[q,N]=r.useState(!1),[E,C]=r.useState(""),[w,D]=r.useState(1),[F,z]=r.useState(""),G=r.useRef(),L=r.useRef(),J=r.useRef(),$=r.useRef(),O=r.useRef(),V=r.useRef(),W=r.useRef(),Y=r.useRef(),H=r.useRef(),K=r.useRef(),Q=r.useRef(),U=r.useRef(),X=r.useRef(),Z=r.useRef(),ee=r.useRef(),ae=r.useRef(),re=r.useRef(),se=r.useRef(),ne=r.useRef(),y={fk_user:I.user.id,nombreTorneo:"",flayer:null,imgBannerSuperior:null,imgBannerInferiorIz:null,imgBannerInferiorDe:null,Aval:"",ApoyoPrincipal:"",cantidadGrupos:"",cantidadEquiposParticipantes:"",caracteristicas:"",premiacion:"",fk_sistema_juegos:"",fk_categoria_equipo:"",estadoTorneo:"",inscripcion:"",procesoInscripcion:"",reglamentacion:"",fechaInicio:"",fechaFin:""},{data:s,setData:p,errors:n,delete:ie,post:T,processing:oe}=Be(y),i=a=>{const{name:o,value:t}=a.target;p(l=>({...l,[o]:t}))},u=(a,o)=>{p(a,o.target.files[0])},P=(a,o,t,l,d,m,he,xe,fe,be,je,ve,Ie,Ne,Ce,Fe,ye,Te,Pe,Se,_e)=>{N(!0),D(a),a===1?(C("Agregar Torneo"),p(y)):(C("Editar Torneo"),p({id:o,nombreTorneo:t,flayer:l,imgBannerSuperior:d,imgBannerInferiorIz:m,imgBannerInferiorDe:he,Aval:xe,ApoyoPrincipal:fe,cantidadGrupos:be,cantidadEquiposParticipantes:je,caracteristicas:ve,premiacion:Ie,fk_sistema_juegos:Ne,fk_categoria_equipo:Ce,estadoTorneo:Fe,inscripcion:ye,procesoInscripcion:Te,reglamentacion:Pe,fechaInicio:Se,fechaFin:_e}))},x=()=>{N(!1)},te=a=>{a.preventDefault(),w===1?T(route("torneo.store"),{preserveScroll:!0,onSuccess:()=>{f("Torneo guardado correctamente")}}):T(route("torneo.updatepost",s.id),{preserveScroll:!0,onSuccess:()=>{f("Torneo actualizado correctamente")}})},f=a=>{x(),B.fire("¡Correcto!",a,"success")},ce=(a,o)=>{B.fire({title:"¿Estás seguro?",text:`Eliminarás el torneo ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&ie(route("torneo.destroy",a),{preserveScroll:!0,onSuccess:()=>{f("Torneo eliminado correctamente")}})})},le=[{value:"",label:"Seleccione...",disabled:!0},...R.map(a=>({value:a.id,label:a.nombreSistema}))],de=[{value:"",label:"Seleccione...",disabled:!0},...M.map(a=>({value:a.id,label:a.descripcion}))];function S(a,o){const t=a.split(" "),l=[];let d="";for(const m of t)(d+m).length<=o?d+=" "+m:(l.push(d),d=m);return l.push(d),l}const[me,pe]=r.useState(0),b=6,ue=a=>{pe(a.selected)},j=A.filter(a=>a.nombreTorneo.toLowerCase().includes(F.toLowerCase())),_=me*b,ge=j.slice(_,_+b);return e.jsxs(Re,{user:I.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Torneos ⚽"}),children:[e.jsx(ke,{title:"Torneos"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"container flex-grow px-4 py-8 mx-auto mt-32",children:[e.jsx("div",{className:"min-h-screen py-6 bg-gray-100",children:e.jsxs("div",{className:"container px-4 mx-auto",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(k,{onClick:()=>P(1),children:[e.jsx("i",{className:"mr-2 fa-solid fa-plus-circle"})," ","Agregar Torneo"]})}),e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Listado de Torneos"}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Buscar por nombre de equipo...",value:F,onChange:a=>z(a.target.value)})}),j.length>0?e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:ge.map(a=>e.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("a",{className:"text-white bg-blue-600 hover:bg-blue-500 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center",onClick:()=>P(2,a.id,a.nombreTorneo,a.flayer,a.imgBannerSuperior,a.imgBannerInferiorIz,a.imgBannerInferiorDe,a.Aval,a.ApoyoPrincipal,a.cantidadGrupos,a.cantidadEquiposParticipantes,a.caracteristicas,a.premiacion,a.fk_sistema_juegos,a.fk_categoria_equipo,a.estadoTorneo,a.inscripcion,a.procesoInscripcion,a.reglamentacion,a.fechaInicio,a.fechaFin,a.fk_user),children:[e.jsx("i",{className:"mr-2 fa-solid fa-edit"})," ","Editar"]}),e.jsxs("a",{className:"text-white bg-pink-500 hover:bg-pink-400 focus:ring-4 focus:ring-pink-300 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center",href:`/lugarPartido?torneo_id=${a.id}`,children:[e.jsx("i",{className:"mr-2 fa-solid fa-location-dot"})," ","Lugares"]}),e.jsxs("a",{className:"text-white bg-orange-500 hover:bg-orange-400 focus:ring-4 focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center",onClick:()=>ce(a.id,a.nombreTorneo),children:[e.jsx("i",{className:"mr-2 fa-solid fa-trash"})," ","Eliminar"]})]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Nombre del Torneo:"})," ",a.nombreTorneo]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Cantidad de Grupos:"})," ",a.cantidadGrupos]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Cantidad de Equipos Participantes:"})," ",a.cantidadEquiposParticipantes]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Estado del Torneo:"})," ",a.estadoTorneo]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Proceso de Inscripción:"})," ",a.procesoInscripcion]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Fecha de Inicio:"})," ",a.fechaInicio]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Fecha de Fin:"})," ",a.fechaFin]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Detalles del Torneo:"})," ","Información detallada del torneo 1"]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Aval:"})," ",a.Aval]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Apoyo Principal:"})," ",a.ApoyoPrincipal]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Características del Torneo:"}),S(a.caracteristicas,62).map((o,t)=>e.jsx("div",{children:o},t))]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Premiación:"}),S(a.premiacion,62).map((o,t)=>e.jsx("div",{children:o},t))]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Sistema de Juego:"})," ",a.fk_sistema_juegos]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Categoría de Equipos:"})," ",a.fk_categoria_equipo]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Reglamentación:"})," ",a.reglamentacion]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Imagen y Publicidad:"})," ","Información de imagen y publicidad del torneo 1"]}),e.jsxs("div",{className:"mb-2 text-base",children:[e.jsx("strong",{children:"Flayer"}),e.jsx("img",{src:`/storage/${a.flayer}`,alt:a.nombreTorneo,className:"w-32 h-32"})]})]},a.id))}),e.jsx(Ae,{previousLabel:"Anterior",nextLabel:"Siguiente",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(j.length/b),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:ue,containerClassName:"pagination flex justify-center mt-4",activeClassName:"bg-blue-500 text-white border-blue-500",previousClassName:"p-2 border rounded hover:bg-blue-500 hover:text-white",nextClassName:"p-2 border rounded hover:bg-blue-500 hover:text-white",pageClassName:"p-2 border rounded hover:bg-blue-200",disabledClassName:"p-2 border rounded opacity-50"})]}):e.jsx("div",{children:"No se encontraron torneos."})]})}),e.jsxs(Me,{show:q,onClose:x,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:E}),e.jsxs("p",{className:"pl-4 text-red-500",children:["Los campos marcados con un"," ",e.jsx("span",{className:"font-bold",children:"*"})," son obligatorios"]}),e.jsxs("form",{onSubmit:te,className:"grid grid-cols-1 gap-4 p-6 sm:grid-cols-2 ",encType:"multipart/form-data",children:[e.jsx(c,{htmlFor:"nombreTorneo",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombre Torneo"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombreTorneo",type:"text",ref:G,name:"nombreTorneo",placeholder:"Nombre Torneo",value:s.nombreTorneo,onChange:i,errorMessage:n.nombreTorneo}),e.jsx(c,{htmlFor:"Aval",label:"Aval",id:"Aval",type:"text",ref:V,name:"Aval",placeholder:"Aval",value:s.Aval,onChange:i,errorMessage:n.Aval}),e.jsx(c,{htmlFor:"ApoyoPrincipal",label:"Apoyo Principal",id:"ApoyoPrincipal",type:"text",ref:W,name:"ApoyoPrincipal",placeholder:"Apoyo Principal",value:s.ApoyoPrincipal,onChange:i,errorMessage:n.ApoyoPrincipal}),e.jsx(c,{htmlFor:"cantidadGrupos",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Cantidad de Grupos"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"cantidadGrupos",type:"number",ref:Y,name:"cantidadGrupos",placeholder:"Cantidad de Grupos",value:s.cantidadGrupos,onChange:i,errorMessage:n.cantidadGrupos}),e.jsx(c,{htmlFor:"cantidadEquiposParticipantes",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Cantidad de Equipos"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"cantidadEquiposParticipantes",type:"number",ref:H,name:"cantidadEquiposParticipantes",placeholder:"Cantidad de Equipos",value:s.cantidadEquiposParticipantes,onChange:i,errorMessage:n.cantidadEquiposParticipantes}),e.jsx(c,{htmlFor:"reglamentacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Reglamentación"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"reglamentacion",type:"text",ref:re,name:"reglamentacion",placeholder:"Reglamentación",value:s.reglamentacion,onChange:i,errorMessage:n.reglamentacion}),e.jsx(c,{htmlFor:"fechaInicio",label:"Fecha de Inicio",id:"fechaInicio",type:"date",ref:se,name:"fechaInicio",placeholder:"Fecha de Inicio",value:s.fechaInicio,onChange:i,errorMessage:n.fechaInicio}),e.jsx(c,{htmlFor:"fechaFin",label:"Fecha de Cierre",id:"fechaFin",type:"date",ref:ne,name:"fechaFin",placeholder:"Fecha de Cierre",value:s.fechaFin,onChange:i,errorMessage:n.fechaFin}),e.jsx(h,{htmlFor:"fk_sistema_juegos",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sistema de Juego"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"fk_sistema_juegos",ref:U,name:"fk_sistema_juegos",value:s.fk_sistema_juegos,onChange:i,errorMessage:n.fk_sistema_juegos,options:le}),e.jsx(h,{htmlFor:"fk_categoria_equipo",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Categoría"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"fk_categoria_equipo",ref:X,name:"fk_categoria_equipo",value:s.fk_categoria_equipo,onChange:i,errorMessage:n.fk_categoria_equipo,options:de}),e.jsx(h,{htmlFor:"estadoTorneo",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Estado"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"estadoTorneo",ref:Z,name:"estadoTorneo",value:s.estadoTorneo,onChange:i,errorMessage:n.estadoTorneo,options:[{value:"",label:"Seleccione...",disabled:!0},{value:"Por Iniciar",label:"Por Iniciar"},{value:"En Juego",label:"En Juego"},{value:"Finalizado",label:"Finalizado"}]}),e.jsx(h,{htmlFor:"inscripcion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Inscripción"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"inscripcion",ref:ee,name:"inscripcion",value:s.inscripcion,onChange:i,errorMessage:n.inscripcion,options:[{value:"",label:"Seleccione...",disabled:!0},{value:"Abierta",label:"Abierta"},{value:"Cerrada",label:"Cerrada"}]}),e.jsx(g,{htmlFor:"flayer",label:"Flayer",id:"flayer",ref:L,name:"flayer",value:s.flayer,onChange:a=>u("flayer",a),errorMessage:n.flayer}),e.jsx(g,{htmlFor:"imgBannerSuperior",label:"Banner Superior",id:"imgBannerSuperior",ref:J,name:"imgBannerSuperior",value:s.imgBannerSuperior,onChange:a=>u("imgBannerSuperior",a),errorMessage:n.imgBannerSuperior}),e.jsx(g,{htmlFor:"imgBannerInferiorIz",label:"Banner Inferior Izquierdo",id:"imgBannerInferiorIz",ref:$,name:"imgBannerInferiorIz",value:s.imgBannerInferiorIz,onChange:a=>u("imgBannerInferiorIz",a),errorMessage:n.imgBannerInferiorIz}),e.jsx(g,{htmlFor:"imgBannerInferiorDe",label:"Banner Inferior Derecho",id:"imgBannerInferiorDe",ref:O,name:"imgBannerInferiorDe",value:s.imgBannerInferiorDe,onChange:a=>u("imgBannerInferiorDe",a),errorMessage:n.imgBannerInferiorDe}),e.jsx(v,{htmlFor:"caracteristicas",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Características"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"caracteristicas",type:"text",ref:K,name:"caracteristicas",placeholder:"Caracteristicas",value:s.caracteristicas,onChange:i,errorMessage:n.caracteristicas}),e.jsx(v,{htmlFor:"premiacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Premiación"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"premiacion",type:"text",ref:Q,name:"premiacion",placeholder:"Premiación",value:s.premiacion,onChange:i,errorMessage:n.premiacion}),e.jsx(v,{htmlFor:"procesoInscripcion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Proceso de Inscripción"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"procesoInscripcion",type:"text",ref:ae,name:"procesoInscripcion",placeholder:"Proceso de Inscripción",value:s.procesoInscripcion,onChange:i,errorMessage:n.procesoInscripcion}),e.jsxs("div",{className:"mt-20 space-x-4 ",children:[e.jsxs(k,{processing:oe.toString(),children:[e.jsx("i",{className:"fa-solid fa-save"}),e.jsx("span",{children:"Guardar"})]}),e.jsx(qe,{onClick:x,children:"Cancel"})]})]})]})]})}),e.jsx(Ee,{})]})}export{aa as default};
