import{r as t,W as I,j as e}from"./app-CpscUkhH.js";import{S as b}from"./sweetalert2.all-vgUrIAgS.js";import{A as P}from"./AuthenticatedLayout-CN2hbycP.js";import{D as A}from"./DangerButton-nuIiKEt0.js";import{F as y}from"./FormField-CYGdgTtV.js";import"./SelectField-BHi6LQ7R.js";import{M as _}from"./Modal-YmEBGxuH.js";import{P as n}from"./PrimaryButton-DBRMAumo.js";import{S as z}from"./SecondaryButton-BlkoG59s.js";import"./Textarea2-D-iF6p1I.js";import"./Footer-CUzeveoC.js";import"./Dropdown-Bag3bUoI.js";import"./transition-DFaYZSng.js";import"./InputLabel-DgFhPcYt.js";import"./TextInput-BRJ60Nu1.js";import"./InputError-BhrALRB9.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./dialog-B1i_YR6N.js";function oe({auth:v,resultados:d,torneo:m}){const[C,u]=t.useState(!1),[S,p]=t.useState(""),[R,w]=t.useState(1),k=t.useRef(),M=t.useRef(),x={categoria:"",resultado:"",fk_torneo:m[0].id},{data:a,setData:o,errors:h,delete:B,post:T,put:F,processing:f}=I(x),j=r=>{const{name:s,value:i}=r.target;o(c=>({...c,[s]:i}))},g=(r,s,i,c)=>{u(!0),w(r),r===1?(p("Nuevo Resultado"),o(x)):(p("Editar Resultado"),o({id:s,categoria:i,resultado:c,fk_torneo:m[0].id}))},l=()=>{u(!1)},D=r=>{r.preventDefault(),R===1?T(route("resultadosTorneo.store"),{preserveScroll:!0,onSuccess:()=>{N("Resultado creado correctamente")}}):F(route("resultadosTorneo.update",a.id),{preserveScroll:!0,onSuccess:()=>{N("Resultado actualizado correctamente")}})},N=r=>{l(),b.fire("¡Correcto!",r,"success")},E=r=>{b.fire({title:"¿Estás seguro?",text:"No podrás revertir esto",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&B(route("resultadosTorneo.destroy",r))})};return e.jsx(P,{user:v.user,children:e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[e.jsx("div",{className:"grid bg-white v-screen place-items-center",children:e.jsx("div",{className:"flex justify-end mt-2 mb-3",children:e.jsx(n,{onClick:()=>g(1),children:e.jsxs("i",{className:"fa-solid fa-plus-circle",children:[" ","Añadir Resultado"]})})})}),e.jsx("div",{className:"grid py-6 bg-white v-screen place-items-center",children:e.jsxs("table",{className:"border-gray-400 table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Categoria"}),e.jsx("th",{className:"px-4 py-2 border",children:"Resultado"})]})}),e.jsx("tbody",{children:d.length>0?d.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:r.categoria}),e.jsx("td",{className:"px-4 py-2 border",children:r.resultado}),e.jsxs("td",{className:"px-4 py-2 border",children:[e.jsx(n,{onClick:()=>g(2,r.id,r.categoria,r.resultado),children:e.jsx("i",{className:"fa-solid fa-edit"})}),e.jsx(A,{onClick:()=>E(r.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]},r.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-2 text-center border",children:"No hay resultados"})})})]})}),e.jsxs(_,{show:C,onClose:l,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:S}),e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsx(y,{htmlFor:"categoria",label:"Categoria",id:"categoria",type:"text",name:"categoria",ref:k,placeholder:"Nombre de la Categoria",value:a.categoria,onChange:j,errorMessage:h.categoria}),e.jsx(y,{htmlFor:"resultado",label:"Resultado",id:"resultado",type:"text",name:"resultado",ref:M,placeholder:"Quien gano el premio",value:a.resultado,onChange:j,errorMessage:h.resultado}),e.jsx("div",{className:"mt-6",children:e.jsx(n,{processing:f?"true":"false",className:"mt-2",children:e.jsx("i",{className:"fa-solid fa-save",children:f?" Procesando...":" Guardar"})})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(z,{onClick:l,children:"Cancelar"})})]})]})]})})})}export{oe as default};
