import{g as Dr,r as u,t as wr,W as nr,j as n,Y as Er}from"./app-DfQqMImO.js";import{S as Ar}from"./sweetalert2.all-DA_rus50.js";import{A as Fr}from"./AuthenticatedLayout-BuzWzPca.js";import{I as z}from"./InputError-DxRqiWu3.js";import{I as W}from"./InputLabel-DyYVZk7L.js";import{S as Pe,M as Ue}from"./SecondaryButton-DU_NsLGj.js";import{T as q}from"./TextInput-NgTYPIwq.js";import{P as xe}from"./PrimaryButton-DLJB6DDv.js";import{W as _r}from"./WarningButton-hSJ7zxnQ.js";import{_ as ce,a as le,b as He,c as Ge}from"./tslib.es6-BgyYHPRr.js";import"./transition-DRvO2rdA.js";import"./Logo-D3k11qLX.js";import"./dialog-f6mzOL02.js";var ar={exports:{}},Or="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cr=Or,Sr=Cr;function or(){}function ir(){}ir.resetWarningCache=or;var Nr=function(){function e(o,s,l,m,d,b){if(b!==Sr){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:ir,resetWarningCache:or};return t.PropTypes=t,t};ar.exports=Nr();var Pr=ar.exports;const g=Dr(Pr);var Ir=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function pe(e,r){var t=Tr(e);if(typeof t.path!="string"){var o=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof o=="string"&&o.length>0?o:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Tr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var o=r.split(".").pop().toLowerCase(),s=Ir.get(o);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var kr=[".DS_Store","Thumbs.db"];function Rr(e){return ce(this,void 0,void 0,function(){return le(this,function(r){return je(e)&&Mr(e.dataTransfer)?[2,Kr(e.dataTransfer,e.type)]:Lr(e)?[2,zr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Wr(e)]:[2,[]]})})}function Mr(e){return je(e)}function Lr(e){return je(e)&&je(e.target)}function je(e){return typeof e=="object"&&e!==null}function zr(e){return Te(e.target.files).map(function(r){return pe(r)})}function Wr(e){return ce(this,void 0,void 0,function(){var r;return le(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(o){return o.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(o){return pe(o)})]}})})}function Kr(e,r){return ce(this,void 0,void 0,function(){var t,o;return le(this,function(s){switch(s.label){case 0:return e.items?(t=Te(e.items).filter(function(l){return l.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Br))]):[3,2];case 1:return o=s.sent(),[2,Ye(sr(o))];case 2:return[2,Ye(Te(e.files).map(function(l){return pe(l)}))]}})})}function Ye(e){return e.filter(function(r){return kr.indexOf(r.name)===-1})}function Te(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var o=e[t];r.push(o)}return r}function Br(e){if(typeof e.webkitGetAsEntry!="function")return qe(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?cr(r):qe(e)}function sr(e){return e.reduce(function(r,t){return He(He([],Ge(r),!1),Ge(Array.isArray(t)?sr(t):[t]),!1)},[])}function qe(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=pe(r);return Promise.resolve(t)}function $r(e){return ce(this,void 0,void 0,function(){return le(this,function(r){return[2,e.isDirectory?cr(e):Ur(e)]})})}function cr(e){var r=e.createReader();return new Promise(function(t,o){var s=[];function l(){var m=this;r.readEntries(function(d){return ce(m,void 0,void 0,function(){var b,A,P;return le(this,function(F){switch(F.label){case 0:if(d.length)return[3,5];F.label=1;case 1:return F.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return b=F.sent(),t(b),[3,4];case 3:return A=F.sent(),o(A),[3,4];case 4:return[3,6];case 5:P=Promise.all(d.map($r)),s.push(P),l(),F.label=6;case 6:return[2]}})})},function(d){o(d)})}l()})}function Ur(e){return ce(this,void 0,void 0,function(){return le(this,function(r){return[2,new Promise(function(t,o){e.file(function(s){var l=pe(s,e.fullPath);t(l)},function(s){o(s)})})]})})}var Hr=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),o=e.name||"",s=(e.type||"").toLowerCase(),l=s.replace(/\/.*$/,"");return t.some(function(m){var d=m.trim().toLowerCase();return d.charAt(0)==="."?o.toLowerCase().endsWith(d):d.endsWith("/*")?l===d.replace(/\/.*$/,""):s===d})}return!0};function Xe(e){return qr(e)||Yr(e)||ur(e)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qr(e){if(Array.isArray(e))return ke(e)}function Ve(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,o)}return t}function Ze(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ve(Object(t),!0).forEach(function(o){lr(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ve(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function lr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fe(e,r){return Zr(e)||Vr(e,r)||ur(e,r)||Xr()}function Xr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,r){if(e){if(typeof e=="string")return ke(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(e,r)}}function ke(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Vr(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o=[],s=!0,l=!1,m,d;try{for(t=t.call(e);!(s=(m=t.next()).done)&&(o.push(m.value),!(r&&o.length===r));s=!0);}catch(b){l=!0,d=b}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw d}}return o}}function Zr(e){if(Array.isArray(e))return e}var Jr="file-invalid-type",Qr="file-too-large",et="file-too-small",rt="too-many-files",tt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Jr,message:"File type must be ".concat(t)}},Je=function(r){return{code:Qr,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Qe=function(r){return{code:et,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},nt={code:rt,message:"Too many files"};function fr(e,r){var t=e.type==="application/x-moz-file"||Hr(e,r);return[t,t?null:tt(r)]}function pr(e,r,t){if(re(e.size))if(re(r)&&re(t)){if(e.size>t)return[!1,Je(t)];if(e.size<r)return[!1,Qe(r)]}else{if(re(r)&&e.size<r)return[!1,Qe(r)];if(re(t)&&e.size>t)return[!1,Je(t)]}return[!0,null]}function re(e){return e!=null}function at(e){var r=e.files,t=e.accept,o=e.minSize,s=e.maxSize,l=e.multiple,m=e.maxFiles,d=e.validator;return!l&&r.length>1||l&&m>=1&&r.length>m?!1:r.every(function(b){var A=fr(b,t),P=fe(A,1),F=P[0],C=pr(b,o,s),S=fe(C,1),k=S[0],I=d?d(b):null;return F&&k&&!I})}function De(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ye(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function er(e){e.preventDefault()}function ot(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function it(e){return e.indexOf("Edge/")!==-1}function st(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ot(e)||it(e)}function L(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(o){for(var s=arguments.length,l=new Array(s>1?s-1:0),m=1;m<s;m++)l[m-1]=arguments[m];return r.some(function(d){return!De(o)&&d&&d.apply(void 0,[o].concat(l)),De(o)})}}function ct(){return"showOpenFilePicker"in window}function lt(e){if(re(e)){var r=Object.entries(e).filter(function(t){var o=fe(t,2),s=o[0],l=o[1],m=!0;return dr(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),m=!1),(!Array.isArray(l)||!l.every(mr))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),m=!1),m}).reduce(function(t,o){var s=fe(o,2),l=s[0],m=s[1];return Ze(Ze({},t),{},lr({},l,m))},{});return[{description:"Files",accept:r}]}return e}function ut(e){if(re(e))return Object.entries(e).reduce(function(r,t){var o=fe(t,2),s=o[0],l=o[1];return[].concat(Xe(r),[s],Xe(l))},[]).filter(function(r){return dr(r)||mr(r)}).join(",")}function ft(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function pt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function dr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function mr(e){return/^.*\.[\w]+$/.test(e)}var dt=["children"],mt=["open"],gt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ht=["refKey","onChange","onClick"];function bt(e){return xt(e)||yt(e)||gr(e)||vt()}function vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xt(e){if(Array.isArray(e))return Re(e)}function Ie(e,r){return wt(e)||Dt(e,r)||gr(e,r)||jt()}function jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,r){if(e){if(typeof e=="string")return Re(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Re(e,r)}}function Re(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Dt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o=[],s=!0,l=!1,m,d;try{for(t=t.call(e);!(s=(m=t.next()).done)&&(o.push(m.value),!(r&&o.length===r));s=!0);}catch(b){l=!0,d=b}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw d}}return o}}function wt(e){if(Array.isArray(e))return e}function rr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,o)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rr(Object(t),!0).forEach(function(o){Me(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function Me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function we(e,r){if(e==null)return{};var t=Et(e,r),o,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)o=l[s],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function Et(e,r){if(e==null)return{};var t={},o=Object.keys(e),s,l;for(l=0;l<o.length;l++)s=o[l],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}var ze=u.forwardRef(function(e,r){var t=e.children,o=we(e,dt),s=br(o),l=s.open,m=we(s,mt);return u.useImperativeHandle(r,function(){return{open:l}},[l]),wr.createElement(u.Fragment,null,t(y(y({},m),{},{open:l})))});ze.displayName="Dropzone";var hr={disabled:!1,getFilesFromEvent:Rr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ze.defaultProps=hr;ze.propTypes={children:g.func,accept:g.objectOf(g.arrayOf(g.string)),multiple:g.bool,preventDropOnDocument:g.bool,noClick:g.bool,noKeyboard:g.bool,noDrag:g.bool,noDragEventsBubbling:g.bool,minSize:g.number,maxSize:g.number,maxFiles:g.number,disabled:g.bool,getFilesFromEvent:g.func,onFileDialogCancel:g.func,onFileDialogOpen:g.func,useFsAccessApi:g.bool,autoFocus:g.bool,onDragEnter:g.func,onDragLeave:g.func,onDragOver:g.func,onDrop:g.func,onDropAccepted:g.func,onDropRejected:g.func,onError:g.func,validator:g.func};var Le={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function br(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=y(y({},hr),e),t=r.accept,o=r.disabled,s=r.getFilesFromEvent,l=r.maxSize,m=r.minSize,d=r.multiple,b=r.maxFiles,A=r.onDragEnter,P=r.onDragLeave,F=r.onDragOver,C=r.onDrop,S=r.onDropAccepted,k=r.onDropRejected,I=r.onFileDialogCancel,X=r.onFileDialogOpen,J=r.useFsAccessApi,Q=r.autoFocus,T=r.preventDropOnDocument,K=r.noClick,V=r.noKeyboard,v=r.noDrag,x=r.noDragEventsBubbling,te=r.onError,B=r.validator,$=u.useMemo(function(){return ut(t)},[t]),j=u.useMemo(function(){return lt(t)},[t]),p=u.useMemo(function(){return typeof X=="function"?X:tr},[X]),a=u.useMemo(function(){return typeof I=="function"?I:tr},[I]),h=u.useRef(null),D=u.useRef(null),U=u.useReducer(At,Le),R=Ie(U,2),H=R[0],w=R[1],c=H.isFocused,_=H.isFileDialogActive,G=u.useRef(typeof window<"u"&&window.isSecureContext&&J&&ct()),Z=function(){!G.current&&_&&setTimeout(function(){if(D.current){var f=D.current.files;f.length||(w({type:"closeDialog"}),a())}},300)};u.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[D,_,a,G]);var M=u.useRef([]),ne=function(f){h.current&&h.current.contains(f.target)||(f.preventDefault(),M.current=[])};u.useEffect(function(){return T&&(document.addEventListener("dragover",er,!1),document.addEventListener("drop",ne,!1)),function(){T&&(document.removeEventListener("dragover",er),document.removeEventListener("drop",ne))}},[h,T]),u.useEffect(function(){return!o&&Q&&h.current&&h.current.focus(),function(){}},[h,Q,o]);var Y=u.useCallback(function(i){te?te(i):console.error(i)},[te]),de=u.useCallback(function(i){i.preventDefault(),i.persist(),be(i),M.current=[].concat(bt(M.current),[i.target]),ye(i)&&Promise.resolve(s(i)).then(function(f){if(!(De(i)&&!x)){var E=f.length,O=E>0&&at({files:f,accept:$,minSize:m,maxSize:l,multiple:d,maxFiles:b,validator:B}),N=E>0&&!O;w({isDragAccept:O,isDragReject:N,isDragActive:!0,type:"setDraggedFiles"}),A&&A(i)}}).catch(function(f){return Y(f)})},[s,A,Y,x,$,m,l,d,b,B]),me=u.useCallback(function(i){i.preventDefault(),i.persist(),be(i);var f=ye(i);if(f&&i.dataTransfer)try{i.dataTransfer.dropEffect="copy"}catch{}return f&&F&&F(i),!1},[F,x]),ge=u.useCallback(function(i){i.preventDefault(),i.persist(),be(i);var f=M.current.filter(function(O){return h.current&&h.current.contains(O)}),E=f.indexOf(i.target);E!==-1&&f.splice(E,1),M.current=f,!(f.length>0)&&(w({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ye(i)&&P&&P(i))},[h,P,x]),ae=u.useCallback(function(i,f){var E=[],O=[];i.forEach(function(N){var ue=fr(N,$),se=Ie(ue,2),Ae=se[0],Fe=se[1],_e=pr(N,m,l),ve=Ie(_e,2),Oe=ve[0],Ce=ve[1],Se=B?B(N):null;if(Ae&&Oe&&!Se)E.push(N);else{var Ne=[Fe,Ce];Se&&(Ne=Ne.concat(Se)),O.push({file:N,errors:Ne.filter(function(jr){return jr})})}}),(!d&&E.length>1||d&&b>=1&&E.length>b)&&(E.forEach(function(N){O.push({file:N,errors:[nt]})}),E.splice(0)),w({acceptedFiles:E,fileRejections:O,type:"setFiles"}),C&&C(E,O,f),O.length>0&&k&&k(O,f),E.length>0&&S&&S(E,f)},[w,d,$,m,l,b,C,S,k,B]),ee=u.useCallback(function(i){i.preventDefault(),i.persist(),be(i),M.current=[],ye(i)&&Promise.resolve(s(i)).then(function(f){De(i)&&!x||ae(f,i)}).catch(function(f){return Y(f)}),w({type:"reset"})},[s,ae,Y,x]),oe=u.useCallback(function(){if(G.current){w({type:"openDialog"}),p();var i={multiple:d,types:j};window.showOpenFilePicker(i).then(function(f){return s(f)}).then(function(f){ae(f,null),w({type:"closeDialog"})}).catch(function(f){ft(f)?(a(f),w({type:"closeDialog"})):pt(f)?(G.current=!1,D.current?(D.current.value=null,D.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(f)});return}D.current&&(w({type:"openDialog"}),p(),D.current.value=null,D.current.click())},[w,p,a,J,ae,Y,j,d]),We=u.useCallback(function(i){!h.current||!h.current.isEqualNode(i.target)||(i.key===" "||i.key==="Enter"||i.keyCode===32||i.keyCode===13)&&(i.preventDefault(),oe())},[h,oe]),Ke=u.useCallback(function(){w({type:"focus"})},[]),Be=u.useCallback(function(){w({type:"blur"})},[]),$e=u.useCallback(function(){K||(st()?setTimeout(oe,0):oe())},[K,oe]),ie=function(f){return o?null:f},Ee=function(f){return V?null:ie(f)},he=function(f){return v?null:ie(f)},be=function(f){x&&f.stopPropagation()},vr=u.useMemo(function(){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=i.refKey,E=f===void 0?"ref":f,O=i.role,N=i.onKeyDown,ue=i.onFocus,se=i.onBlur,Ae=i.onClick,Fe=i.onDragEnter,_e=i.onDragOver,ve=i.onDragLeave,Oe=i.onDrop,Ce=we(i,gt);return y(y(Me({onKeyDown:Ee(L(N,We)),onFocus:Ee(L(ue,Ke)),onBlur:Ee(L(se,Be)),onClick:ie(L(Ae,$e)),onDragEnter:he(L(Fe,de)),onDragOver:he(L(_e,me)),onDragLeave:he(L(ve,ge)),onDrop:he(L(Oe,ee)),role:typeof O=="string"&&O!==""?O:"presentation"},E,h),!o&&!V?{tabIndex:0}:{}),Ce)}},[h,We,Ke,Be,$e,de,me,ge,ee,V,v,o]),yr=u.useCallback(function(i){i.stopPropagation()},[]),xr=u.useMemo(function(){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=i.refKey,E=f===void 0?"ref":f,O=i.onChange,N=i.onClick,ue=we(i,ht),se=Me({accept:$,multiple:d,type:"file",style:{display:"none"},onChange:ie(L(O,ee)),onClick:ie(L(N,yr)),tabIndex:-1},E,D);return y(y({},se),ue)}},[D,t,d,ee,o]);return y(y({},H),{},{isFocused:c&&!o,getRootProps:vr,getInputProps:xr,rootRef:h,inputRef:D,open:ie(oe)})}function At(e,r){switch(r.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},Le),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return y({},Le);default:return e}}function tr(){}function Ft({fk_user:e,alumnoId:r}){const[t,o]=u.useState([]),[s,l]=u.useState(""),[m,d]=u.useState(""),[b,A]=u.useState(!1),P=u.useRef(),F=u.useRef(),{data:C,setData:S,delete:k,post:I,put:X,processing:J,reset:Q,errors:T}=nr({fk_user:e,alumnoId:r,secureUrl:"",valor:""});u.useEffect(()=>{(async()=>{if(b&&t.length>0){const p=new FormData;p.append("file",t[0]),p.append("upload_preset","f5oupgly"),p.append("api_key","ArTr9L8w2XOYRKmenPX-Zsuiq5Y");try{const a=await fetch("https://api.cloudinary.com/v1_1/dykkizvxc/image/upload",{method:"POST",body:p});if(a.ok){const h=await a.json();alert("Comprobante subido con éxito"),l(h.secure_url),o([])}else alert("Error al subir el comprobante1")}catch(a){console.error("Error:",a),alert("Error al subir el comprobante1")}finally{A(!1)}}})()},[b,t]);const K=u.useCallback(async j=>{const p=await Promise.all(j.map(async a=>new Promise(h=>{const D=new FileReader;D.onload=()=>{const U=new Image;U.src=D.result,U.onload=()=>{const R=document.createElement("canvas"),H=239,w=533;let c=U.width,_=U.height;c>_?c>H&&(_*=H/c,c=H):_>w&&(c*=w/_,_=w),R.width=c,R.height=_,R.getContext("2d").drawImage(U,0,0,c,_),R.toBlob(Z=>{h(new File([Z],a.name,{type:a.type}))},a.type)}},D.readAsDataURL(a)})));o(p)},[]),V=u.useCallback(j=>{K(j)},[K]),{getRootProps:v,getInputProps:x,isDragActive:te}=br({onDrop:V}),B=async j=>{j.preventDefault(),A(!0);try{const p=new FormData;p.append("file",t[0]),p.append("upload_preset","f5oupgly"),p.append("api_key","ArTr9L8w2XOYRKmenPX-Zsuiq5Y");const a=await fetch("https://api.cloudinary.com/v1_1/dykkizvxc/image/upload",{method:"POST",body:p});if(a.ok){const h=await a.json();l(h.secure_url),S({...C,secureUrl:h.secure_url}),alert("Comprobante subido con éxito")}else alert("Error al subir el comprobante a Cloudinary")}catch(p){console.error("Error:",p),alert("Error al subir el comprobante")}finally{A(!1)}},$=j=>{j.preventDefault(),I(route("comprobantes.store"),{data:{fk_user:e,alumnoId:r,secureUrl:s,valor:m},onSuccess:()=>{alert("Comprobante enviado con éxito")},onError:p=>{console.error("Error:",p),alert("Error al enviar el comprobante")}})};return n.jsxs("section",{className:"container flex items-center justify-center",children:[n.jsxs("form",{onSubmit:B,className:"flex flex-col items-center",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Subir comprobante"}),n.jsxs("div",{...v(),className:"hover:border-blue-500 hover:border-solid hover:bg-white hover:text-blue-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium py-3",children:[n.jsx("input",{...x()}),te?n.jsx("p",{children:"Suelte los archivos aquí..."}):n.jsx("p",{style:{textAlign:"justify",marginLeft:"20px",marginRight:"20px",fontWeight:"bold",fontSize:"1.1rem"},children:"👉Arrastre y suelte comprobante aquí o haga clic para seleccionar comprobante 👈"})]}),t[0]&&n.jsx("img",{src:URL.createObjectURL(t[0]),alt:"",className:"w-240 h-400"}),n.jsx(xe,{className:"mt-4",disabled:b||t.length===0,children:"Subir Imagen"})]}),n.jsxs("form",{onSubmit:$,className:"flex flex-col items-center",children:[n.jsxs("div",{className:"mt-4",children:[n.jsx(W,{htmlFor:"valor",values:"Valor Pagado"}),n.jsx(q,{id:"valor",name:"valor",ref:P,type:"number",placeholder:"Valor Pagado",value:C.valor,onChange:j=>S({...C,valor:j.target.value}),className:"mt-1 block w-full"}),n.jsx(z,{message:T==null?void 0:T.apellidos,className:"mt-2"})]}),n.jsx(q,{id:"secureUrl",name:"secureUrl",ref:F,type:"text",placeholder:"Enlace",value:s,onChange:j=>S({...C,secureUrl:j.target.value})}),n.jsx("input",{name:"fk_user",value:e,onChange:j=>S({...C,fk_user:j.target.value}),style:{display:"none"}}),n.jsx("input",{name:"alumnoId",value:r,onChange:j=>S({...C,alumnoId:j.target.value}),style:{display:"none"}}),n.jsx(xe,{className:"mt-3",type:"submit",children:"Enviar"})]})]})}function Wt({auth:e,alumnos:r}){const[t,o]=u.useState(!1),[s,l]=u.useState(!1),[m,d]=u.useState(""),[b,A]=u.useState(1),[P,F]=u.useState(null),C=u.useRef(),S=u.useRef(),k=u.useRef(),I=u.useRef(),X=u.useRef(),J=u.useRef(),Q=u.useRef(),T=u.useRef(),K=u.useRef(),V=e.user.id,{data:v,setData:x,delete:te,post:B,put:$,processing:j,reset:p,errors:a}=nr({id:"",identificacion:"",nombres:"",apellidos:"",fecha_nacimiento:"",genero:"",direccion:"",barrio:"",celular:"",sedeEntrenamiento:"",fk_user:V,alumno:"",fecha:"",comprobante:"",valor:""}),h=(c,_,G,Z,M,ne,Y,de,me,ge,ae,ee)=>{o(!0),A(c),c===1?(d("Agregar Alumno"),x({id:"",identificacion:"",nombres:"",apellidos:"",fecha_nacimiento:"",genero:"",direccion:"",barrio:"",celular:"",sedeEntrenamiento:"",fk_user:ee})):(d("Editar Alumno"),x({id:_,identificacion:G,nombres:Z,apellidos:M,fecha_nacimiento:ne,genero:Y,direccion:de,barrio:me,celular:ge,sedeEntrenamiento:ae,fk_user:ee}))},D=()=>{o(!1)},U=c=>{c.preventDefault(),b===1?B(route("alumno.store"),{onSuccess:()=>{R("Alumno Agregado")},onError:()=>{a!=null&&a.identificacion&&(p("identificacion"),C.current.focus()),a!=null&&a.nombres&&(p("nombres"),S.current.focus()),a!=null&&a.apellidos&&(p("apellidos"),k.current.focus()),a!=null&&a.fecha_nacimiento&&(p("fecha_nacimiento"),I.current.focus()),a!=null&&a.genero&&(p("genero"),X.current.focus()),a!=null&&a.direccion&&(p("direccion"),J.current.focus()),a!=null&&a.barrio&&(p("barrio"),Q.current.focus()),a!=null&&a.celular&&(p("celular"),T.current.focus()),a!=null&&a.sedeEntrenamiento&&(p("sedeEntrenamiento"),K.current.focus())}}):$(route("alumno.update",{alumno:v.id}),{onSuccess:()=>{R("Alumno Actualizado")},onError:()=>{a!=null&&a.identificacion&&(p("identificacion"),C.current.focus()),a!=null&&a.nombres&&(p("nombres"),S.current.focus()),a!=null&&a.apellidos&&(p("apellidos"),k.current.focus()),a!=null&&a.fecha_nacimiento&&(p("fecha_nacimiento"),I.current.focus()),a!=null&&a.genero&&(p("genero"),X.current.focus()),a!=null&&a.direccion&&(p("direccion"),J.current.focus()),a!=null&&a.barrio&&(p("barrio"),Q.current.focus()),a!=null&&a.celular&&(p("celular"),T.current.focus()),a!=null&&a.sedeEntrenamiento&&(p("sedeEntrenamiento"),K.current.focus())}})},R=c=>{p(),D(),Ar.fire({title:c,icon:"success"})},H=(c,_,G,Z,M,ne)=>{l(!0),A(c),F(_),d("Agregar Pago"),x({fk_user:G,alumno:_,fecha:Z,comprobante:M,valor:ne})},w=()=>{l(!1),F(null)};return n.jsxs(Fr,{user:e.user,header:n.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Alumnos"}),children:[n.jsx(Er,{title:"Alumnos"}),n.jsxs("div",{className:"grid py-6 mt-6 overflow-x-auto bg-white v-screen place-items-center",children:[n.jsx("div",{className:"flex justify-end mt-1 mb-1",children:n.jsxs(xe,{onClick:()=>h(1),children:[n.jsx("i",{className:"fa-solid fa-plus-circle",style:{marginRight:"10px"}}),"Agregar"]})}),n.jsx("div",{className:"grid py-6 bg-white v-screen place-items-center",children:n.jsxs("table",{className:"table border border-gray-400 rounded-t-lg rounded-bl-lg rounded-br-lg table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"px-2 py-2",children:"#"}),n.jsx("th",{className:"px-2 py-2",children:"Identificación"}),n.jsx("th",{className:"px-2 py-2",children:"Nombres"}),n.jsx("th",{className:"px-2 py-2",children:"Apellidos"}),n.jsx("th",{className:"px-2 py-2",children:"Fecha de Nacimiento"}),n.jsx("th",{className:"px-2 py-2",children:"Género"}),n.jsx("th",{className:"px-2 py-2",children:"Dirección"}),n.jsx("th",{className:"px-2 py-2",children:"Barrio"}),n.jsx("th",{className:"px-2 py-2",children:"Celular"}),n.jsx("th",{className:"px-2 py-2",children:"Sede"}),n.jsx("th",{className:"px-2 py-2"}),n.jsx("th",{className:"px-2 py-2"})]})}),n.jsx("tbody",{children:r.length>0?r.map((c,_)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border border-gray-400",children:_+1}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.identificacion}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.nombres}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.apellidos}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.fecha_nacimiento}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.genero==="M"?"Masculino":"Femenino"}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.direccion}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.barrio}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.celular}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:c.sedeEntrenamiento}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:n.jsx(_r,{onClick:()=>h(2,c.id,c.identificacion,c.nombres,c.apellidos,c.fecha_nacimiento,c.genero,c.direccion,c.barrio,c.celular,c.sedeEntrenamiento),children:n.jsx("i",{className:"fa-solid fa-edit"})})}),n.jsx("td",{className:"px-2 py-2 border border-gray-400",children:n.jsx(Pe,{className:"bg-green-500",onClick:()=>H(1,c.id,c.identificacion),children:n.jsx("i",{className:"text-white fa-solid fa-money-bill"})})})]},c.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"text-center",children:"Favor Registrar estudiante Futuras Estrellas"})})})]})})]}),n.jsxs(Ue,{show:t,onClose:D,children:[n.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:m}),n.jsxs("form",{onSubmit:U,className:"p-6",children:[n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"identificacion",value:"Identificación"}),n.jsx(q,{id:"identificacion",name:"identificacion",ref:C,value:v.identificacion,type:"number",onChange:c=>x({...v,identificacion:c.target.value}),className:"block w-full mt-1",isFocused:!0}),n.jsx(z,{message:a==null?void 0:a.identificacion,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"nombres",value:"Nombres"}),n.jsx(q,{id:"nombres",name:"nombres",ref:S,value:v.nombres,onChange:c=>x({...v,nombres:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.nombres,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"apellidos",value:"Apellidos"}),n.jsx(q,{id:"apellidos",name:"apellidos",ref:k,value:v.apellidos,onChange:c=>x({...v,apellidos:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.apellidos,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"fecha_nacimiento",value:"Fecha de Nacimiento"}),n.jsx(q,{id:"fecha_nacimiento",name:"fecha_nacimiento",ref:I,value:v.fecha_nacimiento,type:"date",onChange:c=>x({...v,fecha_nacimiento:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.fecha_nacimiento,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"genero",value:"Género"}),n.jsxs("select",{id:"genero",name:"genero",ref:X,value:v.genero,onChange:c=>x({...v,genero:c.target.value}),className:"block w-full mt-1",children:[n.jsx("option",{value:"",disabled:!0,children:"Selecciones..."}),n.jsx("option",{value:"M",children:"Masculino"}),n.jsx("option",{value:"F",children:"Femenino"})]}),n.jsx(z,{message:a==null?void 0:a.genero,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"direccion",value:"Dirección"}),n.jsx(q,{id:"direccion",name:"direccion",ref:J,value:v.direccion,onChange:c=>x({...v,direccion:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.direccion,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"barrio",value:"Ciudad y Barrio"}),n.jsx(q,{id:"barrio",name:"barrio",ref:Q,value:v.barrio,onChange:c=>x({...v,barrio:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.barrio,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"celular",value:"Celular"}),n.jsx(q,{id:"celular",name:"celular",ref:T,value:v.celular,type:"number",onChange:c=>x({...v,celular:c.target.value}),className:"block w-full mt-1"}),n.jsx(z,{message:a==null?void 0:a.celular,className:"mt-2"})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx(W,{htmlFor:"sedeEntrenamiento",value:"Sede de Entrenamiento"}),n.jsxs("select",{id:"sedeEntrenamiento",name:"sedeEntrenamiento",ref:K,value:v.sedeEntrenamiento,onChange:c=>x({...v,sedeEntrenamiento:c.target.value}),className:"block w-full mt-1",children:[n.jsx("option",{value:"",disabled:!0,children:"Selecciones..."}),n.jsx("option",{value:"Ipiales",children:"Ipiales"}),n.jsx("option",{value:"Pupiales",children:"Pupiales"}),n.jsx("option",{value:"Chiles",children:"Chiles"}),n.jsx("option",{value:"Guachucal",children:"Guachucal"}),n.jsx("option",{value:"Puerres",children:"Puerres"}),n.jsx("option",{value:"Laguna de Bacca",children:"Laguna de Bacca"}),n.jsx("option",{value:"Gran Cumbal",children:"Gran Cumbal"})]}),n.jsx(z,{message:a==null?void 0:a.sedeEntrenamiento,className:"mt-2"})]}),n.jsx("div",{className:"mt-1",children:n.jsxs(xe,{processing:j.toString(),className:"mt-2",children:[n.jsx("i",{className:"fa-solid fa-save"}),"Guardar"]})}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(Pe,{onClick:D,children:"Cancel"})})]})]}),n.jsxs(Ue,{show:s,onClose:w,children:[n.jsx("h2",{className:"p-3 text-lg font-medium text-gray-900",children:m}),n.jsxs("div",{className:"p-6",children:[n.jsx(Ft,{fk_user:V,alumnoId:P}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx(Pe,{onClick:w,children:"Cerrar"})})]})]})]})}export{Wt as default};
