import{r as a,W as Ee,j as e,Y as Ie}from"./app-BZ4MfUuB.js";import{S as b}from"./sweetalert2.all-Cpt_h8z6.js";import{X as Ne}from"./index.es-BXVEGKkN.js";import{A as Ce}from"./AuthenticatedLayout-B_aZUwGG.js";import{F as r}from"./FormField-fnXDQpb5.js";import{S as j}from"./SelectField-DeTgE9my.js";import{M as Se}from"./Modal-Cm66vSOL.js";import{P as F}from"./PrimaryButton-DeKf7L6r.js";import{I as Fe}from"./ImgField-oQ5uYKq8.js";import{B as ye}from"./BackButton-DgGLzLNM.js";import"./Footer-DKROTaFs.js";import{G as Pe,C as Te}from"./CancelarButton-CEeyGg3x.js";import"./tslib.es6-BgyYHPRr.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./Dropdown-DxAQ1H4x.js";import"./transition-ujbCdl0s.js";import"./InputLabel-C_OL7V6n.js";import"./TextInput-D68xSFFS.js";import"./InputError-Bz0s8zW6.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./dialog-Bfofd0zF.js";function Ze({auth:y,equipo_id:v,jugadores:P,equipo:T,userRole:p}){const[A,E]=a.useState(!1),[M,I]=a.useState(""),[D,R]=a.useState(1),[N,O]=a.useState(""),[x,q]=a.useState(!1),L=a.useRef(),k=a.useRef(),B=a.useRef(),U=a.useRef(),w=a.useRef(),z=a.useRef(),G=a.useRef(),H=a.useRef(),J=a.useRef(),W=a.useRef(),_=a.useRef(),$=a.useRef(),V=a.useRef(),X=a.useRef(),Y=a.useRef(),C={id:"",nombreCompleto:"",foto:null,tipoIdentificacion:"",numeroIdentificacion:"",numeroSerie:"",fechaNacimiento:"",lugarNacimiento:"",institucionEducativa:"",grado:"",ciudadInstitucionEducativa:"",telefonoInstitucionEducativa:"",fk_equipo:v,estadoEPS:"",nombreEPS:"",lugarAtencionEPS:"",cuerpoTecnico:""},Q={rowsPerPageText:"Registros por p√°gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},{data:o,setData:d,errors:i,delete:Ae,post:h,processing:K}=Ee(C),l=t=>{const{name:n,value:s}=t.target;d(c=>({...c,[n]:s}))},Z=t=>{const{name:n,value:s}=t.target;d(c=>({...c,[n]:s.toUpperCase()}))},ee=t=>{d("foto",t.target.files[0])},m=t=>{const{name:n,value:s}=t.target,c=s.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");d(u=>({...u,[n]:c}))},S=(t,n,s,c,u,le,ce,de,ue,me,pe,xe,he,ge,fe,be,je,ve)=>{E(!0),R(t),t===1?(I("Nuevo Miembro del Equipo"),d(C)):(I("Editar Miembro del Equipo"),d({id:n,nombreCompleto:s,foto:c,tipoIdentificacion:u,numeroIdentificacion:le,numeroSerie:ce,fechaNacimiento:de,lugarNacimiento:ue,institucionEducativa:me,grado:pe,ciudadInstitucionEducativa:xe,telefonoInstitucionEducativa:he,fk_equipo:ge,estadoEPS:fe,nombreEPS:be,lugarAtencionEPS:je,cuerpoTecnico:ve}))},g=()=>{E(!1)},te=t=>{t.preventDefault(),x&&(D===1?h(p==="admin"?route("jugadoresAdmin.store"):route("jugadores.store"),{preserveScroll:!0,onSuccess:()=>{f("El Miembro del Equipo ha sido creado")}}):h(p==="admin"?route("jugadoresAdmin.updatepost",o.id):route("jugadores.updatepost",o.id),{preserveScroll:!0,onSuccess:()=>{f("El Miembro del Equipo ha sido actualizado")}}))},ae=t=>{q(t.target.checked)},f=t=>{g(),b.fire({title:t,icon:"success"})},oe=(t,n)=>{b.fire({title:"Activar/Desactivar",text:`¬øEst√° seguro cambiar el estado del Miembro del Equipo ${n}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Si",cancelButtonText:"No"}).then(s=>{s.isConfirmed&&h(p==="admin"?route("jugadoresAdmin.toggle",t):route("jugadores.toggle",t),{preserveScroll:!0,onSuccess:()=>{f("El Miembro del Equipo ha sido actualizado")},onError:()=>{b.fire({title:"Error",text:"El Miembro del Equipo no ha sido actualizado",icon:"error"})}})})},ne=[{value:"",label:"Seleccione ...",disabled:!0},{value:"CC",label:"C√©dula de Ciudadan√≠a"},{value:"CE",label:"C√©dula de Extranjer√≠a"},{value:"TI",label:"Tarjeta de Identidad"},{value:"RC",label:"Registro Civil"},{value:"PA",label:"Pasaporte"}],ie=[{value:"",label:"Seleccione ...",disabled:!0},{value:"D.L.",label:"Delegado o Director Log√≠stico"},{value:"D.T.",label:"Director T√©cnico (Entrenador Principal)"},{value:"A.T.",label:"Asistente T√©cnico"},{value:"P.F.",label:"Preparador F√≠sico"},{value:"P.S.",label:"Preparador Salud"},{value:"U.T.",label:"Utilero"},{value:"T.N.",label:"Tribuna"}],re=P.filter(t=>t.nombreCompleto&&t.nombreCompleto.toLowerCase().includes(N.toLowerCase())),se=[{name:"N¬∞",selector:(t,n)=>n+1,sortable:!0},{name:"EDITAR",cell:t=>e.jsx("button",{className:"relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-red-200 via-red-300 to-yellow-200 group-hover:from-red-200 group-hover:via-red-300 group-hover:to-yellow-200   focus:ring-4 focus:outline-none focus:ring-red-100 mt-2",onClick:()=>S(2,t.id,t.nombreCompleto,t.foto,t.tipoIdentificacion,t.numeroIdentificacion,t.numeroSerie,t.fechaNacimiento,t.lugarNacimiento,t.institucionEducativa,t.grado,t.ciudadInstitucionEducativa,t.telefonoInstitucionEducativa,t.fk_equipo,t.estadoEPS,t.nombreEPS,t.lugarAtencionEPS,t.cuerpoTecnico),children:e.jsx("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white  rounded-md group-hover:bg-opacity-0",children:e.jsx("i",{className:"fa-solid fa-edit"})})})},{name:"ESTADO",cell:t=>e.jsxs("button",{onClick:()=>oe(t.id,t.nombreCompleto),disabled:p==="equipo",className:`flex items-center justify-center w-20 h-10 space-x-1 px-2 py-1 rounded-lg text-white text-sm font-medium transition duration-300 ease-in-out ${t.estado===1?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("i",{className:"fa-solid fa-eye"}),e.jsx("span",{className:"ml-1",children:t.estado===1?"Hab.":"Des."})]})},{name:"NOMBRES Y APELLIDOS",selector:t=>t.nombreCompleto,sortable:!0,wrap:!0},{name:"FOTO",cell:t=>e.jsx("img",{src:`/storage/${t.foto}`,onError:n=>{n.target.onerror=null,n.target.src="/soccer-player.svg",n.target.src.endsWith(".svg")&&(n.target.style.filter="brightness(0.5)")},alt:"Foto",width:"40",height:"40"})},{name:"TIPO DOC",selector:t=>t.tipoIdentificacion,sortable:!0},{name:"# DOC",selector:t=>t.numeroIdentificacion,sortable:!0},{name:"SERIAL FOLIO",selector:t=>t.numeroSerie,sortable:!0},{name:"FECHA NACIMIENTO",selector:t=>t.fechaNacimiento,sortable:!0},{name:"LUGAR NACIMIENTO",selector:t=>t.lugarNacimiento,sortable:!0},{name:"INSTITUCI√ìN EDUCATIVA",selector:t=>t.institucionEducativa,sortable:!0},{name:"GRADO",selector:t=>t.grado,sortable:!0},{name:"CIUDAD",selector:t=>t.ciudadInstitucionEducativa,sortable:!0},{name:"TEL√âFONO INSTITUCIONAL",selector:t=>t.telefonoInstitucionEducativa,sortable:!0},{name:"Cuerpo T√©cnico",selector:t=>t.cuerpoTecnico,sortable:!0}];return e.jsxs(Ce,{user:y.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"‚öΩ Miembros del Equipo üë¶üëß"}),children:[e.jsx(Ie,{title:"‚öΩ Miembros del Equipo üë¶üëß"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"container flex-grow px-4 py-8 mx-auto ",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"container p-6 mx-auto overflow-x-auto bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-end mt-1 mb-4 space-x-2 sm:space-x-4",children:[e.jsxs(F,{className:"px-2 py-1 mb-2 text-xs me-2 sm:text-sm sm:px-4 sm:py-2",onClick:()=>S(1),children:[e.jsx("i",{className:"fa-solid fa-plus-circle"}),"","Agregar ","",e.jsx("span",{className:"hidden ml-1 sm:inline",children:"Miembro del Equipo"})]}),e.jsx(F,{className:"px-2 py-1 mb-2 text-xs me-2 sm:text-sm sm:px-4 sm:py-2",children:e.jsxs("a",{href:route("jugadores.pdf",{equipo_id:v}),target:"_blank",download:!0,children:[e.jsx("i",{className:" fa-solid fa-file-pdf"}),e.jsxs("span",{className:"hidden ml-1 sm:inline",children:["Descargar "," "]}),"PDF"]})}),e.jsx(ye,{to:route("equipos.index")})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Buscar por nombre del Miembro del Equipo",className:"w-full px-4 py-2 border rounded-lg",value:N,onChange:t=>O(t.target.value)})}),e.jsxs("div",{className:"mt-2 text-left",children:[e.jsxs("span",{className:"italic font-bold",children:["NOMBRE EQUIPO:"," "]}),e.jsx("span",{children:T})]}),e.jsx(Ne,{title:"Listado de Miembro del Equipo",columns:se,data:re,pagination:!0,paginationComponentOptions:Q,highlightOnHover:!0,responsive:!0,striped:!0,fixedHeader:!0,noDataComponent:e.jsx("div",{children:"No hay Miembro del Equipo Registrados"})})]})}),e.jsxs(Se,{show:A,close:g,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:M}),e.jsxs("form",{onSubmit:te,className:"grid grid-cols-2 gap-4 p-6",encType:"multipart/form-data",children:[e.jsx(r,{htmlFor:"nombreCompleto",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombres y Apellidos"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombreCompleto",type:"text",name:"nombreCompleto",value:o.nombreCompleto,onChange:Z,errorMessage:i.nombreCompleto,ref:L}),e.jsx(Fe,{htmlFor:"foto",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Foto"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"foto",name:"foto",ref:k,onChange:ee,value:o.foto,errorMessage:i.foto,imageUrl:o.foto}),e.jsx(j,{htmlFor:"cuerpoTecnico",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Forma Parte del Cuerpo t√©cnico"})}),id:"cuerpoTecnico",name:"cuerpoTecnico",value:o.cuerpoTecnico,options:ie,onChange:l,errorMessage:i.cuerpoTecnico,ref:X}),e.jsx(j,{htmlFor:"tipoIdentificacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Tipo Documento Identidad"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"tipoIdentificacion",name:"tipoIdentificacion",value:o.tipoIdentificacion,options:ne,onChange:l,errorMessage:i.tipoIdentificacion,ref:B}),e.jsx(r,{htmlFor:"numeroIdentificacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"N√∫mero Documento Identidad"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"numeroIdentificacion",type:"number",name:"numeroIdentificacion",value:o.numeroIdentificacion,onChange:l,errorMessage:i.numeroIdentificacion,ref:U}),e.jsx(r,{htmlFor:"numeroSerie",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Registro Civil #SERIAL FOLIO si es Jugado"})}),id:"numeroSerie",type:"number",name:"numeroSerie",value:o.numeroSerie,onChange:l,errorMessage:i.numeroSerie,ref:w}),e.jsx(r,{htmlFor:"fechaNacimiento",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Fecha Nacimiento"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"fechaNacimiento",type:"date",name:"fechaNacimiento",value:o.fechaNacimiento,onChange:l,errorMessage:i.fechaNacimiento,ref:z}),e.jsx(r,{htmlFor:"lugarNacimiento",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Lugar Nacimiento"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"lugarNacimiento",type:"text",name:"lugarNacimiento",value:o.lugarNacimiento,onChange:m,errorMessage:i.lugarNacimiento,ref:G}),e.jsx(r,{htmlFor:"institucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"institucionEducativa",type:"text",name:"institucionEducativa",value:o.institucionEducativa,onChange:m,errorMessage:i.institucionEducativa,ref:H}),e.jsx(r,{htmlFor:"grado",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Grado de Estudio Actual o M√°ximo"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"grado",type:"text",name:"grado",value:o.grado,onChange:l,errorMessage:i.grado,ref:J}),e.jsx(r,{htmlFor:"ciudadInstitucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Ciudad Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"ciudadInstitucionEducativa",type:"text",name:"ciudadInstitucionEducativa",value:o.ciudadInstitucionEducativa,onChange:m,errorMessage:i.ciudadInstitucionEducativa,ref:W}),e.jsx(r,{htmlFor:"telefonoInstitucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Tel√©fono Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"telefonoInstitucionEducativa",type:"number",name:"telefonoInstitucionEducativa",value:o.telefonoInstitucionEducativa,onChange:l,errorMessage:i.telefonoInstitucionEducativa,ref:_}),e.jsx(j,{htmlFor:"estadoEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Estado EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"estadoEPS",name:"estadoEPS",value:o.estadoEPS,options:[{value:"",label:"Seleccione ...",disabled:!0},{value:1,label:"Activo"},{value:0,label:"Inactivo"}],onChange:l,errorMessage:i.estadoEPS,ref:$}),e.jsx(r,{htmlFor:"nombreEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombre EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombreEPS",type:"text",name:"nombreEPS",value:o.nombreEPS,onChange:m,errorMessage:i.nombreEPS,ref:V}),e.jsx(r,{htmlFor:"lugarAtencionEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"lugar Atenci√≥n EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"lugarAtencionEPS",type:"text",name:"lugarAtencionEPS",value:o.lugarAtencionEPS,onChange:m,errorMessage:i.lugarAtencionEPS,ref:Y}),e.jsxs("div",{className:"flex items-center col-span-2",children:[e.jsx("input",{type:"checkbox",id:"disclaimer",name:"disclaimer",onChange:ae,checked:x}),e.jsxs("label",{htmlFor:"disclaimer",className:"ml-2 text-sm",children:[e.jsx("span",{className:"text-red-500",children:"*"}),"Acepto la exoneraci√≥n de responsabilidades .",e.jsx("a",{href:"https://www.funcionpublica.gov.co/eva/gestornormativo/norma.php?i=49981",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Ley 1581 de 2012 de Protecci√≥n de Datos Personales"}),". Al aceptar, reconozco que autorizo a Alianza Sure√±a Grupo Empresarial para utilizar los datos personales de los Miembro del Equipo exclusivamente para la gesti√≥n y organizaci√≥n de torneos de f√∫tbol."]})]}),e.jsxs("div",{className:"flex justify-between col-span-2 mt-1",children:[e.jsx(Pe,{processing:K.toString(),className:"px-4 py-2 mt-2",disabled:!x,children:"Guardar"}),e.jsx(Te,{onClick:g,className:"px-4 py-2 mt-2",children:"Cancelar"})]})]})]})]})})]})}export{Ze as default};
