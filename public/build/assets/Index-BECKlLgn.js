import{r as t,W as Ie,j as e,Y as Ne}from"./app-C5p2IS-n.js";import{S as b}from"./sweetalert2.all-D6xpsO36.js";import{X as Ce}from"./index.es-BOnTbiGm.js";import{A as Se}from"./AuthenticatedLayout-DgXqvCIj.js";import{F as r}from"./FormField-DYlk2ziV.js";import{S as j}from"./SelectField-kh3TfBV_.js";import{M as Fe,S as A}from"./SecondaryButton-BuaM7ncQ.js";import{P as E}from"./PrimaryButton-D-hNl-RM.js";import{I as Ae}from"./ImgField-BbTJs5v5.js";import{W as Pe}from"./WarningButton-B6Iqgxtx.js";import{F as Te}from"./Footer-DzaosTLm.js";import"./tslib.es6-BgyYHPRr.js";import"./emotion-unitless.esm-sScrWPmR.js";import"./transition-B1z0TWIx.js";import"./Logo-BBLRZALq.js";import"./InputLabel-C3LARUVo.js";import"./TextInput-Cdsvucuw.js";import"./InputError-DFx-UEFv.js";import"./dialog-CMDnRUi3.js";function $e({auth:P,equipo_id:v,jugadores:T,equipo:M,userRole:p}){const[y,I]=t.useState(!1),[R,N]=t.useState(""),[D,O]=t.useState(1),[C,L]=t.useState(""),[h,q]=t.useState(!1),k=t.useRef(),U=t.useRef(),B=t.useRef(),z=t.useRef(),G=t.useRef(),W=t.useRef(),_=t.useRef(),H=t.useRef(),J=t.useRef(),w=t.useRef(),V=t.useRef(),X=t.useRef(),Y=t.useRef(),$=t.useRef(),Q=t.useRef(),S={id:"",nombreCompleto:"",foto:null,tipoIdentificacion:"",numeroIdentificacion:"",numeroSerie:"",fechaNacimiento:"",lugarNacimiento:"",institucionEducativa:"",grado:"",ciudadInstitucionEducativa:"",telefonoInstitucionEducativa:"",fk_equipo:v,estadoEPS:"",nombreEPS:"",lugarAtencionEPS:"",cuerpoTecnico:""},K={rowsPerPageText:"Registros por p√°gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},{data:o,setData:d,errors:n,delete:Me,post:x,processing:Z}=Ie(S),l=a=>{const{name:i,value:s}=a.target;d(c=>({...c,[i]:s}))},ee=a=>{const{name:i,value:s}=a.target;d(c=>({...c,[i]:s.toUpperCase()}))},ae=a=>{d("foto",a.target.files[0])},m=a=>{const{name:i,value:s}=a.target,c=s.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");d(u=>({...u,[i]:c}))},F=(a,i,s,c,u,ce,de,ue,me,pe,he,xe,fe,ge,be,je,Ee,ve)=>{I(!0),O(a),a===1?(N("Nuevo Miembro del Equipo"),d(S)):(N("Editar Miembro del Equipo"),d({id:i,nombreCompleto:s,foto:c,tipoIdentificacion:u,numeroIdentificacion:ce,numeroSerie:de,fechaNacimiento:ue,lugarNacimiento:me,institucionEducativa:pe,grado:he,ciudadInstitucionEducativa:xe,telefonoInstitucionEducativa:fe,fk_equipo:ge,estadoEPS:be,nombreEPS:je,lugarAtencionEPS:Ee,cuerpoTecnico:ve}))},f=()=>{I(!1)},te=a=>{a.preventDefault(),h?D===1?x(p==="admin"?route("jugadoresAdmin.store"):route("jugadores.store"),{preserveScroll:!0,onSuccess:()=>{g("El Miembro del Equipo ha sido creado")}}):x(p==="admin"?route("jugadoresAdmin.updatepost",o.id):route("jugadores.updatepost",o.id),{preserveScroll:!0,onSuccess:()=>{g("El Miembro del Equipo ha sido actualizado")}}):alert("Debe aceptar la exoneraci√≥n de responsabilidades para guardar.")},oe=a=>{q(a.target.checked)},g=a=>{f(),b.fire({title:a,icon:"success"})},ne=(a,i)=>{b.fire({title:"Activar/Desactivar",text:`¬øEst√° seguro cambiar el estado del Miembro del Equipo ${i}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Si",cancelButtonText:"No"}).then(s=>{s.isConfirmed&&x(p==="admin"?route("jugadoresAdmin.toggle",a):route("jugadores.toggle",a),{preserveScroll:!0,onSuccess:()=>{g("El Miembro del Equipo ha sido actualizado")},onError:()=>{b.fire({title:"Error",text:"El Miembro del Equipo no ha sido actualizado",icon:"error"})}})})},ie=[{value:"",label:"Seleccione ...",disabled:!0},{value:"CC",label:"C√©dula de Ciudadan√≠a"},{value:"CE",label:"C√©dula de Extranjer√≠a"},{value:"TI",label:"Tarjeta de Identidad"},{value:"RC",label:"Registro Civil"},{value:"PA",label:"Pasaporte"}],re=[{value:"",label:"Seleccione ...",disabled:!0},{value:"D.L.",label:"Delegado o Director Log√≠stico"},{value:"D.T.",label:"Director T√©cnico (Entrenador Principal)"},{value:"A.T.",label:"Asistente T√©cnico"},{value:"P.F.",label:"Preparador F√≠sico"},{value:"P.S.",label:"Preparador Salud"},{value:"U.T.",label:"Utilero"},{value:"T.N.",label:"Tribuna"}],se=T.filter(a=>a.nombreCompleto&&a.nombreCompleto.toLowerCase().includes(C.toLowerCase())),le=[{name:"N¬∞",selector:(a,i)=>i+1,sortable:!0},{name:"NOMBRES Y APELLIDOS",selector:a=>a.nombreCompleto,sortable:!0},{name:"TIPO DOC",selector:a=>a.tipoIdentificacion,sortable:!0},{name:"# DOC",selector:a=>a.numeroIdentificacion,sortable:!0},{name:"SERIAL FOLIO",selector:a=>a.numeroSerie,sortable:!0},{name:"FECHA NACIMIENTO",selector:a=>a.fechaNacimiento,sortable:!0},{name:"LUGAR NACIMIENTO",selector:a=>a.lugarNacimiento,sortable:!0},{name:"INSTITUCI√ìN EDUCATIVA",selector:a=>a.institucionEducativa,sortable:!0},{name:"GRADO",selector:a=>a.grado,sortable:!0},{name:"CIUDAD",selector:a=>a.ciudadInstitucionEducativa,sortable:!0},{name:"TEL√âFONO INSTITUCIONAL",selector:a=>a.telefonoInstitucionEducativa,sortable:!0},{name:"Cuerpo T√©cnico",selector:a=>a.cuerpoTecnico,sortable:!0},{name:"EDITAR",cell:a=>e.jsx(Pe,{onClick:()=>F(2,a.id,a.nombreCompleto,a.foto,a.tipoIdentificacion,a.numeroIdentificacion,a.numeroSerie,a.fechaNacimiento,a.lugarNacimiento,a.institucionEducativa,a.grado,a.ciudadInstitucionEducativa,a.telefonoInstitucionEducativa,a.fk_equipo,a.estadoEPS,a.nombreEPS,a.lugarAtencionEPS,a.cuerpoTecnico),children:e.jsx("i",{className:"fa-solid fa-pencil"})})},{name:"ESTADO",cell:a=>e.jsxs(A,{onClick:()=>ne(a.id,a.nombreCompleto),children:[e.jsx("i",{className:"fa-solid fa-eye"}),a.estado===1?"Off":"On"]})}];return e.jsxs(Se,{user:P.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"‚öΩ Miembros del Equipo üë¶üëß"}),children:[e.jsx(Ne,{title:"‚öΩ Miembros del Equipo üë¶üëß"}),e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("main",{className:"container flex-grow px-4 py-8 mx-auto mt-32",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"container p-6 mx-auto overflow-x-auto bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-end mt-1 mb-4 space-x-4",children:[e.jsxs(E,{onClick:()=>F(1),children:[e.jsx("i",{className:"mr-2 fa-solid fa-plus-circle"}),"Agregar Miembro del Equipo"]}),e.jsx(E,{children:e.jsxs("a",{href:route("jugadores.pdf",{equipo_id:v}),target:"_blank",download:!0,children:[e.jsx("i",{className:"mr-2 fa-solid fa-file-pdf"}),"Descargar PDF"]})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Buscar por nombre del Miembro del Equipo",className:"w-full px-4 py-2 border rounded-lg",value:C,onChange:a=>L(a.target.value)})}),e.jsxs("div",{className:"mt-2 text-left",children:[e.jsxs("span",{className:"italic font-bold",children:["NOMBRE EQUIPO:"," "]}),e.jsx("span",{children:M})]}),e.jsx(Ce,{title:"Listado de Miembro del Equipo",columns:le,data:se,pagination:!0,paginationComponentOptions:K,highlightOnHover:!0,responsive:!0,striped:!0,fixedHeader:!0,noDataComponent:e.jsx("div",{children:"No hay Miembro del Equipo Registrados"})})]})}),e.jsxs(Fe,{show:y,close:f,children:[e.jsx("h2",{className:"p-4 text-2xl font-semibold text-white bg-gray-800 border-b border-gray-300 rounded-t-md",children:R}),e.jsxs("form",{onSubmit:te,className:"grid grid-cols-2 gap-4 p-6",encType:"multipart/form-data",children:[e.jsx(r,{htmlFor:"nombreCompleto",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombres y Apellidos"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombreCompleto",type:"text",name:"nombreCompleto",value:o.nombreCompleto,onChange:ee,errorMessage:n.nombreCompleto,ref:k}),e.jsx(Ae,{htmlFor:"foto",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Foto"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"foto",name:"foto",ref:U,onChange:ae,value:o.foto,errorMessage:n.foto,imageUrl:o.foto?`http://127.0.0.1:8000/storage/${o.foto}`:null}),e.jsx(j,{htmlFor:"cuerpoTecnico",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Forma Parte del Cuerpo t√©cnico"})}),id:"cuerpoTecnico",name:"cuerpoTecnico",value:o.cuerpoTecnico,options:re,onChange:l,errorMessage:n.cuerpoTecnico,ref:$}),e.jsx(j,{htmlFor:"tipoIdentificacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Tipo Documento Identidad"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"tipoIdentificacion",name:"tipoIdentificacion",value:o.tipoIdentificacion,options:ie,onChange:l,errorMessage:n.tipoIdentificacion,ref:B}),e.jsx(r,{htmlFor:"numeroIdentificacion",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"N√∫mero Documento Identidad"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"numeroIdentificacion",type:"number",name:"numeroIdentificacion",value:o.numeroIdentificacion,onChange:l,errorMessage:n.numeroIdentificacion,ref:z}),e.jsx(r,{htmlFor:"numeroSerie",label:e.jsx(e.Fragment,{children:e.jsx("span",{children:"Registro Civil #SERIAL FOLIO si es Jugado"})}),id:"numeroSerie",type:"number",name:"numeroSerie",value:o.numeroSerie,onChange:l,errorMessage:n.numeroSerie,ref:G}),e.jsx(r,{htmlFor:"fechaNacimiento",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Fecha Nacimiento"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"fechaNacimiento",type:"date",name:"fechaNacimiento",value:o.fechaNacimiento,onChange:l,errorMessage:n.fechaNacimiento,ref:W}),e.jsx(r,{htmlFor:"lugarNacimiento",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Lugar Nacimiento"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"lugarNacimiento",type:"text",name:"lugarNacimiento",value:o.lugarNacimiento,onChange:m,errorMessage:n.lugarNacimiento,ref:_}),e.jsx(r,{htmlFor:"institucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"institucionEducativa",type:"text",name:"institucionEducativa",value:o.institucionEducativa,onChange:m,errorMessage:n.institucionEducativa,ref:H}),e.jsx(r,{htmlFor:"grado",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Grado de Estudio Actual o M√°ximo"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"grado",type:"text",name:"grado",value:o.grado,onChange:l,errorMessage:n.grado,ref:J}),e.jsx(r,{htmlFor:"ciudadInstitucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Ciudad Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"ciudadInstitucionEducativa",type:"text",name:"ciudadInstitucionEducativa",value:o.ciudadInstitucionEducativa,onChange:m,errorMessage:n.ciudadInstitucionEducativa,ref:w}),e.jsx(r,{htmlFor:"telefonoInstitucionEducativa",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Tel√©fono Instituci√≥n Educativa"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"telefonoInstitucionEducativa",type:"number",name:"telefonoInstitucionEducativa",value:o.telefonoInstitucionEducativa,onChange:l,errorMessage:n.telefonoInstitucionEducativa,ref:V}),e.jsx(j,{htmlFor:"estadoEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Estado EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"estadoEPS",name:"estadoEPS",value:o.estadoEPS,options:[{value:"",label:"Seleccione ...",disabled:!0},{value:1,label:"Activo"},{value:0,label:"Inactivo"}],onChange:l,errorMessage:n.estadoEPS,ref:X}),e.jsx(r,{htmlFor:"nombreEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Nombre EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"nombreEPS",type:"text",name:"nombreEPS",value:o.nombreEPS,onChange:m,errorMessage:n.nombreEPS,ref:Y}),e.jsx(r,{htmlFor:"lugarAtencionEPS",label:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"lugar Atenci√≥n EPS"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),id:"lugarAtencionEPS",type:"text",name:"lugarAtencionEPS",value:o.lugarAtencionEPS,onChange:m,errorMessage:n.lugarAtencionEPS,ref:Q}),e.jsxs("div",{className:"flex items-center col-span-2",children:[e.jsx("input",{type:"checkbox",id:"disclaimer",name:"disclaimer",onChange:oe,checked:h}),e.jsxs("label",{htmlFor:"disclaimer",className:"ml-2",children:[e.jsx("span",{className:"text-red-500",children:"*"}),"Acepto la exoneraci√≥n de responsabilidades",e.jsx("a",{href:"https://www.funcionpublica.gov.co/eva/gestornormativo/norma.php?i=49981",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Ley 1581 de 2012 de Protecci√≥n de Datos Personales"}),". Al aceptar, reconozco que autorizo a Alianza Sure√±a Grupo Empresarial para utilizar los datos personales de los Miembro del Equipo exclusivamente para la gesti√≥n y organizaci√≥n de torneos de f√∫tbol. La informaci√≥n recopilada incluye datos detallados como nombre completo, foto, tipo y n√∫mero de identificaci√≥n, fecha y lugar de nacimiento, entre otros. Estos datos ser√°n tratados de manera confidencial y solo se usar√°n para verificar la elegibilidad de los jugadores, organizar eventos y mantener comunicaci√≥n con los representantes legales sobre actividades relacionadas con el torneo. Los titulares de los datos pueden ejercer sus derechos de acceso, rectificaci√≥n y actualizaci√≥n contactando a trav√©s de CIMA_FUTURASESTRELLAS@hotmail.com o llamando al +57 318 3773718."]})]}),e.jsxs("div",{className:"flex justify-between col-span-2 mt-1",children:[e.jsxs(E,{processing:Z.toString(),className:"mt-2",disabled:!h,children:[e.jsx("i",{className:"mr-2 fa-solid fa-save"}),"Guardar"]}),e.jsx(A,{onClick:f,children:"Cancelar"})]})]})]})]})}),e.jsx(Te,{})]})}export{$e as default};
